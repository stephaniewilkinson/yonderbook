<!-- Connect Goodreads Section -->
<div class="relative bg-white overflow-hidden rounded-3xl shadow-lg max-w-4xl mx-auto">
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20">
    <div class="text-center">
      <h1 class="text-4xl sm:text-5xl lg:text-5xl font-bold text-gray-900 mb-6 font-coats">
        Connect Your Goodreads Account
      </h1>

      <p class="text-xl sm:text-2xl text-gray-600 mb-12 leading-relaxed max-w-2xl mx-auto">
        Connect your Goodreads account to import your books and start finding them for free at your library and through book swaps
      </p>

      <!-- What Happens When You Connect -->
      <div class="bg-emerald-50 border border-emerald-200 rounded-xl p-6 mb-6 max-w-2xl mx-auto">
        <h3 class="text-lg font-semibold text-emerald-900 mb-4">What happens when you connect:</h3>
        <ul class="space-y-3 text-emerald-800">
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>We'll automatically import <strong>all your shelves</strong> and books</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>You can check library availability and book trading options</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>See insights like reading patterns and author gender statistics</span>
          </li>
        </ul>
      </div>

      <!-- Data Privacy Notice -->
      <div class="bg-amber-50 border border-amber-200 rounded-xl p-6 mb-8 max-w-2xl mx-auto">
        <h3 class="text-lg font-semibold text-amber-900 mb-3">What we'll save to your account:</h3>
        <ul class="space-y-2 text-amber-800 text-sm mb-4">
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Your Goodreads user ID</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Secure access credentials (so we can access your Goodreads data on your behalf)</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Book data from all your shelves (titles, authors, ratings, etc.)</span>
          </li>
        </ul>
        <p class="text-sm text-amber-800">
          <strong>Your privacy matters:</strong> We'll keep this data to provide you with ongoing service (library lookups, book trading alerts). You can disconnect at any time from your Account page to permanently delete all your Goodreads data.
        </p>
      </div>

      <!-- Connection Instructions -->
      <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8 max-w-2xl mx-auto">
        <h3 class="text-lg font-semibold text-blue-900 mb-4">How to connect your Goodreads account:</h3>
        <div class="space-y-3 text-left">
          <div class="flex items-center gap-3">
            <div class="flex-shrink-0 w-8 h-8 bg-brand text-white rounded-full flex items-center justify-center font-bold text-sm">1</div>
            <p class="text-blue-800">Click "Connect with Goodreads" below</p>
          </div>
          <div class="flex items-center gap-3">
            <div class="flex-shrink-0 w-8 h-8 bg-brand text-white rounded-full flex items-center justify-center font-bold text-sm">2</div>
            <p class="text-blue-800">Log into your Goodreads account (you'll stay on Goodreads)</p>
          </div>
          <div class="flex items-center gap-3">
            <div class="flex-shrink-0 w-8 h-8 bg-brand text-white rounded-full flex items-center justify-center font-bold text-sm">3</div>
            <p class="text-blue-800">Return to this page and click "Connect with Goodreads" again</p>
          </div>
          <div class="flex items-center gap-3">
            <div class="flex-shrink-0 w-8 h-8 bg-brand text-white rounded-full flex items-center justify-center font-bold text-sm">4</div>
            <p class="text-blue-800">Access all your shelves and book features</p>
          </div>
        </div>
        <div class="mt-4 pt-3 border-t border-blue-300">
          <p class="text-sm text-blue-700 text-left">
            <strong>Why the extra steps?</strong> Goodreads <a href="https://www.goodreads.com/topic/show/21788520-api-deprecation" class="text-brand hover:underline" target="_blank">deprecated their API</a> in December 2020, breaking automatic login redirects. We can still access your book data, but the connection flow requires these manual steps.
          </p>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <% if @auth_url %>
          <a href='<%= @auth_url %>' class="inline-flex items-center px-8 py-4 bg-brand text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200">
            <img src="/img/goodreads-icon.png" alt="Goodreads" class="w-6 h-6 mr-3 filter brightness-0 invert">
            Connect with Goodreads
            <img src="/svg/external-link.svg" alt="External link" class="w-5 h-5 ml-3 opacity-80 filter brightness-0 invert">
          </a>
        <% end %>

        <a href="/home" class="inline-flex items-center px-6 py-4 bg-transparent border-2 border-gray-400 text-gray-600 font-semibold text-lg rounded-xl hover:border-brand hover:text-brand transition-all duration-200">
          Back to Home
        </a>
      </div>
    </div>
  </div>
</div>
